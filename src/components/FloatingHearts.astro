---
type Props = {
  color?: string;
};

const { color = "text-pink-300" } = Astro.props;
---

<div
  class="hearts-container absolute inset-0 overflow-hidden pointer-events-none z-0"
>
  {
    Array.from({ length: 15 }).map((_, i) => (
      <div
        class="heart"
        style={`--delay: ${Math.random() * 5}s; --left: ${Math.random() * 100}%;`}
      >
        <svg
          viewBox="0 0 24 24"
          fill="currentColor"
          class={`w-6 h-6 ${color} opacity-40`}
        >
          <path d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z" />
        </svg>
      </div>
    ))
  }
</div>

<style>
  .hearts-container {
    mask-image: linear-gradient(
      to bottom,
      transparent,
      black 10%,
      black 90%,
      transparent
    );
  }

  .heart {
    position: absolute;
    bottom: -10%;
    left: var(--left);
    animation: floatHeart 15s linear infinite;
    animation-delay: var(--delay);
    opacity: 0;
  }

  @keyframes floatHeart {
    0% {
      transform: translateY(0) scale(0.5) rotate(0deg);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    100% {
      transform: translateY(-120vh) scale(1.5) rotate(360deg);
      opacity: 0;
    }
  }
</style>
